---
import Layout from '../layouts/Layout.astro';

const technologies = [
  // Languages
  'Python',
  'Dart',
  'HTML',
  'CSS',
  'SASS',
  'SQL',
  'NoSQL',
  // Frameworks
  'Django',
  'Flask',
  'FastAPI',
  'Falcon',
  'Flutter',
  'Astro',
  'Tailwind',
  // Tools & Platforms
  'Supabase',
  'Firebase',
  'Cloudflare',
  'GitHub',
  'Cursor',
  // Enterprise
  'FileNet',
  'Kofax',
  'CIM DATABASE',
];
---

<Layout title="Tomáš Jeřábek - Software Developer & Consultant">
  <div class="min-h-screen flex flex-col">
    <!-- Navigation with Cartoon Style -->
    <nav class="fixed top-0 left-0 right-0 z-50">
      <!-- Cartoon style background -->
      <div class="absolute inset-0 bg-white/90 backdrop-blur-xl border-b-4 border-black"></div>
      
      <!-- Content -->
      <div class="relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <a href="/" class="flex items-center group">
            <div class="bg-white rounded-xl p-2 transition-all duration-300 group-hover:scale-110">
              <img src="/images/logo.svg" alt="Logo" class="h-10" />
            </div>
          </a>
          <div class="flex items-center space-x-4">
            <a href="#contact" class="px-4 py-2 bg-white rounded-xl text-gray-700 hover:bg-blue-50 transition-all duration-300 font-bold border-l-4 border-b-4 border-t-2 border-r-2 border-black transform hover:scale-110 hover:rotate-3" style="color: rgb(55, 65, 81) !important;">
              Contact
            </a>
            <a href="/CV_TJ_en_2026.pdf" target="_blank" class="flex items-center space-x-2 px-4 py-2 bg-white rounded-xl text-gray-700 hover:bg-blue-50 transition-all duration-300 font-bold border-l-4 border-b-4 border-t-2 border-r-2 border-black group transform hover:scale-110 hover:-rotate-3" style="color: rgb(55, 65, 81) !important;">
              <img src="/images/file-pdf-box.svg" alt="PDF" class="w-5 h-5 transition-transform duration-300 group-hover:rotate-12" />
              <span>CV</span>
            </a>
          </div>
        </div>
      </div>
    </nav>
    
    <!-- Spacer to account for fixed nav -->
    <div class="h-16"></div>

    <!-- Hero Section -->
    <main class="flex-grow bg-white">
      <!-- Hero Section with Card Design -->
      <section class="relative min-h-[85vh] flex items-center justify-center overflow-hidden py-12 sm:py-20">
        <!-- Content Card -->
        <div class="relative z-10 max-w-5xl mx-auto px-6 sm:px-8 lg:px-12">
          <div class="animate-fade-in">
            <!-- Main Card -->
            <div class="bg-white rounded-3xl p-8 sm:p-12 md:p-16 border-l-8 border-b-8 border-t-2 border-r-2 border-black transform hover:scale-[1.01] transition-transform duration-300">
              <!-- Main Content -->
              <div class="prose prose-lg max-w-none leading-relaxed space-y-6">
                <p class="text-gray-600 text-md">
                  I'm a software developer and consultant based in the Central Bohemian region near Prague, Czech Republic. With technology having no boundaries, I'm free to help you with your project anywhere on planet Earth.
                </p>
                <div class="relative my-8">
                  <div class="flex flex-col sm:flex-row gap-6 items-center">
                    <div class="relative group flex-shrink-0">
                      <a href="#contact" id="hero-photo-link" class="block relative">
                        <img 
                          src="/images/cartoon_tj.jpg" 
                          alt="Tomáš Jeřábek" 
                          class="relative rounded-3xl object-cover shadow-xl transform transition-transform duration-300 group-hover:scale-105 cursor-pointer"
                          style="width: 100px; height: 100px;"
                        />
                      </a>
                    </div>
                    <div class="flex-grow text-center sm:text-left">
                      <p class="text-gray-600 text-md">
                        With over 15 years of experience in IT, I bring a wealth of knowledge and expertise to every project. <a href="/CV_TJ_en_2026.pdf" class="underline font-semibold">See my CV</a> to learn more about my background and experience. <br>                  Most of my work involves <a href="https://www.python.org/" target="_blank" rel="noopener noreferrer" class="underline font-semibold">Python</a>, a versatile programming language perfect for everything from scripts to web development, desktop applications, and integrations. For mobile development (Android/iOS), I use the <a href="https://flutter.dev/" target="_blank" rel="noopener noreferrer" class="underline font-semibold">Flutter framework</a>.

                      </p>
                    </div>
                  </div>
                </div>
                
                <p class="text-gray-600 text-md">
                </p>

                <p class="text-gray-600 text-md">
                    Ready to start your next project? Great! Give me a call or drop me an email.
                  </p>
              </div>

              <!-- CTA Buttons -->
              <div class="flex flex-col sm:flex-row gap-4 justify-center items-center pt-8 mt-8">
                <a 
                  href="#contact" 
                  class="group relative px-8 py-4 text-white font-bold rounded-2xl border-l-4 border-b-4 border-t-2 border-r-2 border-black transform hover:scale-110 hover:rotate-3 transition-all duration-300 overflow-hidden text-lg"
                  style="color: white !important; background-color: rgba(19, 103, 160, 1) !important;"
                >
                  <span class="relative z-10" style="color: white !important;">Get in Touch</span>
                  <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300" style="background-color: rgba(19, 103, 160, 0.8);"></div>
                </a>
                <a 
                  href="/CV_TJ_en_2026.pdf" 
                  target="_blank"
                  class="group px-8 py-4 bg-white text-gray-800 font-bold rounded-2xl border-l-4 border-b-4 border-t-2 border-r-2 border-black transform hover:scale-110 hover:-rotate-3 transition-all duration-300 flex items-center gap-2 text-lg"
                  style="color: rgb(31, 41, 55) !important;"
                >
                  <img src="/images/file-pdf-box.svg" alt="PDF" class="w-6 h-6" />
                  <span style="color: rgb(31, 41, 55) !important;">View CV</span>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Scroll Indicator -->
        <div 
          id="scroll-down"
          class="hidden sm:block absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce cursor-pointer group hover:scale-110 transition-transform duration-300 z-10"
          aria-label="Scroll to technologies"
          role="button"
          tabindex="0"
        >
              <div class="bg-white rounded-full p-3 border-l-4 border-b-4 border-t-2 border-r-2 border-black transition-all">
            <svg class="w-6 h-6 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
            </svg>
          </div>
        </div>
      </section>

      <!-- Technologies Section -->
      <section id="technologies" class="max-w-6xl mx-auto px-6 sm:px-8 lg:px-12 py-12 sm:py-16 md:py-20">
        <!-- Technologies Card -->
        <div class="bg-white rounded-3xl p-8 sm:p-12 md:p-16 border-l-8 border-b-8 border-t-2 border-r-2 border-black">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 text-gray-900">
              Technologies & Tools
            </h2>
            <p class="text-gray-600 text-lg">Technologies I work with</p>
          </div>
          
          <!-- Technology Pills -->
          <div class="flex flex-wrap gap-3 sm:gap-4 justify-center">
            {technologies.map((tech, index) => (
              <span 
                class="tech-pill group relative inline-flex items-center px-5 py-3 rounded-2xl text-sm font-bold bg-gradient-to-br from-blue-50 to-indigo-50 border-l-4 border-b-4 border-t-2 border-r-2 border-black text-gray-800 hover:from-blue-100 hover:to-indigo-100 transition-all duration-300 cursor-default transform hover:scale-110 hover:rotate-3 z-10"
                style={`animation-delay: ${index * 50}ms`}
              >
                <!-- Text content -->
                <span class="relative z-10 pointer-events-none">{tech}</span>
              </span>
            ))}
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="max-w-6xl mx-auto px-6 sm:px-8 lg:px-12 py-12 sm:py-16 md:py-24">
        <!-- Contact Card -->
        <div class="bg-white rounded-3xl p-8 sm:p-12 md:p-16 border-l-8 border-b-8 border-t-2 border-r-2 border-black transform hover:scale-[1.01] transition-transform duration-300">
          <div class="text-center mb-8">
            <h2 class="text-3xl md:text-4xl font-bold mb-2 text-gray-900">
              Tomáš Jeřábek
            </h2>
            <p class="text-md text-gray-600 font-medium">Software Consultant / Developer</p>
          </div>
          
          <div class="space-y-6 max-w-2xl mx-auto">
            <!-- Email -->
            <div class="group">
              <p class="text-sm text-gray-600 uppercase tracking-wide mb-3 font-bold">Email</p>
                    <a 
                      id="email" 
                      href="" 
                      class="inline-flex items-center text-lg text-gray-900 transition-all duration-300 font-bold group-hover:translate-x-1"
                      data-email="bWFpbHRvOnRvbWFzQHRvbWFzamVyYWJlay5jb20="
                      data-user="tomas"
                      data-domain="tomasjerabek.com"
                    >
                      <svg class="w-6 h-6 mr-3 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                      </svg>
                      <span class="email-text" style="unicode-bidi: bidi-override; direction: rtl; display: none;">moc.kerabrejsamot@samot</span>
                      <span class="email-placeholder">[Email protected]</span>
                    </a>
            </div>
            
            <!-- Phone -->
            <div class="group">
              <p class="text-sm text-gray-600 uppercase tracking-wide mb-3 font-bold">Phone</p>
              <a 
                href="tel:+420733105512" 
                class="inline-flex items-center text-lg text-gray-900 transition-all duration-300 font-bold group-hover:translate-x-1"
              >
                <svg class="w-6 h-6 mr-3 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
                +420 733 105 512
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-br from-blue-50 to-indigo-50 border-t-4 border-black mt-auto">
      <div class="max-w-6xl mx-auto px-6 sm:px-8 lg:px-12 py-12">
        <div class="flex flex-col items-center space-y-6">
          <div class="flex items-center space-x-8">
            <a 
              href="https://cz.linkedin.com/in/tomasjerabek" 
              target="_blank" 
              rel="noopener noreferrer"
              class="bg-white rounded-2xl p-3 text-gray-600 transition-all duration-300 transform hover:scale-110 hover:rotate-3 border-l-4 border-b-4 border-t-2 border-r-2 border-black"
              aria-label="LinkedIn"
            >
              <img src="/images/linkedin-box.svg" alt="LinkedIn" class="h-8 w-8" />
            </a>
            <a 
              href="https://github.com/tomasjerabek-com" 
              target="_blank" 
              rel="noopener noreferrer"
              class="bg-white rounded-2xl p-3 text-gray-600 transition-all duration-300 transform hover:scale-110 hover:-rotate-3 border-l-4 border-b-4 border-t-2 border-r-2 border-black"
              aria-label="GitHub"
            >
              <img src="/images/github-box.svg" alt="GitHub" class="h-8 w-8" />
            </a>
          </div>
          <div class="flex items-center space-x-2 text-gray-500 text-sm font-medium">
            <span style="transform: rotate(180deg); display: inline-block;">©</span>
            <a href="https://tomasjerabek.com" class="transition-colors">
              tomasjerabek.com
            </a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <style>
    /* Custom animations */
    @keyframes fade-in {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pill-float {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-5px);
      }
    }


    .animate-gradient {
      background-size: 200% 200%;
      animation: gradient 3s ease infinite;
    }

    .tech-pill {
      animation: fade-in 0.6s ease-out backwards, pill-float 3s ease-in-out infinite;
      isolation: isolate; /* Create new stacking context */
    }

    .tech-pill:hover {
      z-index: 50 !important; /* Ensure hovered pill is on top */
    }

    /* Cartoon style border */
    .border-3 {
      border-width: 3px;
    }

    .border-4 {
      border-width: 4px;
    }

    /* Custom link color */
    a {
      color: rgba(19, 103, 160, 1);
    }
    
    a:hover {
      color: rgba(19, 103, 160, 0.8);
    }

    /* Keep button text black */
    a[class*="bg-gradient"], a[class*="bg-white"][class*="rounded"]:not([class*="text-"]) {
      color: inherit;
    }
    
    a[class*="bg-gradient"] span,
    a[class*="bg-white"][class*="rounded"] span {
      color: inherit;
    }

    /* Staggered animation delays for pills */
    .tech-pill:nth-child(1) { animation-delay: 0ms; }
    .tech-pill:nth-child(2) { animation-delay: 75ms; }
    .tech-pill:nth-child(3) { animation-delay: 150ms; }
    .tech-pill:nth-child(4) { animation-delay: 225ms; }
    .tech-pill:nth-child(5) { animation-delay: 300ms; }
    .tech-pill:nth-child(6) { animation-delay: 375ms; }
    .tech-pill:nth-child(7) { animation-delay: 450ms; }
    .tech-pill:nth-child(8) { animation-delay: 525ms; }
    .tech-pill:nth-child(9) { animation-delay: 600ms; }
    .tech-pill:nth-child(10) { animation-delay: 675ms; }
    .tech-pill:nth-child(11) { animation-delay: 750ms; }
    .tech-pill:nth-child(12) { animation-delay: 825ms; }
    .tech-pill:nth-child(13) { animation-delay: 900ms; }
    .tech-pill:nth-child(14) { animation-delay: 975ms; }
    .tech-pill:nth-child(15) { animation-delay: 1050ms; }
    .tech-pill:nth-child(16) { animation-delay: 1125ms; }
    .tech-pill:nth-child(17) { animation-delay: 1200ms; }
    .tech-pill:nth-child(18) { animation-delay: 1275ms; }
    .tech-pill:nth-child(19) { animation-delay: 1350ms; }
    .tech-pill:nth-child(20) { animation-delay: 1425ms; }
    .tech-pill:nth-child(21) { animation-delay: 1500ms; }
    .tech-pill:nth-child(22) { animation-delay: 1575ms; }
    .tech-pill:nth-child(23) { animation-delay: 1650ms; }
    .tech-pill:nth-child(24) { animation-delay: 1725ms; }
    .tech-pill:nth-child(25) { animation-delay: 1800ms; }

    /* Smooth scroll */
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 4rem; /* Account for fixed nav */
    }
  </style>

  <script>
    // Advanced email obfuscation using multiple techniques
    (function() {
      const emailElement = document.getElementById("email");
      if (!emailElement) return;
      
      // Method 1: Try base64 decode from data-email
      const encoded = emailElement.getAttribute("data-email");
      if (encoded) {
        try {
          const decoded = atob(encoded);
          emailElement.href = decoded;
          const email = decoded.replace("mailto:", "");
          const placeholder = emailElement.querySelector(".email-placeholder");
          if (placeholder) {
            placeholder.textContent = email;
            placeholder.style.display = "inline";
          }
          return;
        } catch (e) {
          // Fallback to method 2
        }
      }
      
      // Method 2: Reconstruct from data attributes
      const user = emailElement.getAttribute("data-user");
      const domain = emailElement.getAttribute("data-domain");
      if (user && domain) {
        const email = user + "@" + domain;
        emailElement.href = "mailto:" + email;
        const placeholder = emailElement.querySelector(".email-placeholder");
        if (placeholder) {
          placeholder.textContent = email;
          placeholder.style.display = "inline";
        }
        return;
      }
      
      // Method 3: Reverse the reversed text
      const reversed = emailElement.querySelector(".email-text")?.textContent || "";
      if (reversed) {
        const normal = reversed.split("").reverse().join("");
        emailElement.href = "mailto:" + normal;
        const placeholder = emailElement.querySelector(".email-placeholder");
        if (placeholder) {
          placeholder.textContent = normal;
          placeholder.style.display = "inline";
        }
      }
    })();

    // Scroll down arrow functionality
    const scrollDown = document.getElementById("scroll-down");
    if (scrollDown) {
      const handleScroll = function(e) {
        e.preventDefault();
        e.stopPropagation();
        const technologiesSection = document.getElementById("technologies");
        if (technologiesSection) {
          const navHeight = 64; // Height of fixed nav (h-16 = 4rem = 64px)
          const elementPosition = technologiesSection.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - navHeight;

          window.scrollTo({
            top: offsetPosition,
            behavior: "smooth"
          });
        }
      };
      
      scrollDown.addEventListener("click", handleScroll);
      scrollDown.addEventListener("keydown", function(e) {
        if (e.key === "Enter" || e.key === " ") {
          handleScroll(e);
        }
      });
    }

    // Hero photo scroll to contact functionality
    const heroPhotoLink = document.getElementById("hero-photo-link");
    if (heroPhotoLink) {
      heroPhotoLink.addEventListener("click", function(e) {
        e.preventDefault();
        const contactSection = document.getElementById("contact");
        if (contactSection) {
          const navHeight = 64; // Height of fixed nav (h-16 = 4rem = 64px)
          const elementPosition = contactSection.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - navHeight;

          window.scrollTo({
            top: offsetPosition,
            behavior: "smooth"
          });
        }
      });
    }
  </script>
</Layout>
